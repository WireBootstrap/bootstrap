/* Angular and Bootstrap components for WireBootstrap (2019-01-06) (c) 2014 - 2019 Enterprise Blocks, Inc. License details : //cdn.wirebootstrap.com/libs/license/index.html */if(function(){$.fn._ebCsvExport=function(a){function b(){d(function(){g.bindData(c)})}function c(){i||(i=f.children().first(),i.click(function(){var a=eb.data.DataSet.cast(eb.deepCopy(h.data));a.Query&&a.Query.Paging&&(a.Query.Paging=null);var b=$("<div>");$(document.body).append(b),b.on("databind",function(){b.tableExport({type:"csv",tableName:g.nameRef().Name||h.name,escape:"false"}),b.remove()}),b=b.ebtable({data:a})})),g.ready()}function d(a){function b(){"undefined"==typeof $.fn.tableExport?eb.loadJs("//cdn.wirebootstrap.com/tableExport/1.2.1/eb-tableExport.js",function(){a()}):a()}"undefined"==typeof $.fn.base64?eb.loadJs("//cdn.wirebootstrap.com/tableExport/jquery.base64.js",function(){b()}):b()}function e(){return{autoInit:!0}}var f=this;eb.ui.prependClass(f,"eb-csv-export eb-plugin");var g=new eb.ui.Component(this,a,e()),h=g.config(),i=null;return this.getData=function(){return g.data()},this.config=function(){return h},this.databind=function(a){a&&g.data(a),c()},this.initialize=function(){return b(),this},h.autoInit&&h.data&&b(),this},$.fn.ebCsvExport=function(a){return this.each(function(){$(this)._ebCsvExport(a)})}}(),function(){$.fn._ebFilterLabel=function(a){function b(){d(function(){h.bindData(c)})}function c(){var a=i.data,b=null;"string"==typeof a&&(a=h.data()),b=!a.Query&&a.__meta&&a.__meta.dataset?a.__meta.dataset.Query:a.Query;var c=a.Source&&a.Source.Model?a.Source.Model:null;if(!b)throw"Unable to find dataset for filter label";g.empty();var d=$(i.template),e=[];g.append(d),"StoredProcedure"==b.__typeName&&(e=a.Query.getDescription()),"PivotQuery"==b.__typeName?b.Dimensions.forEach(function(a){a.isOnPage()&&e.push(a.Filter.getDescription())}):b.Filter&&b.Filter.forEach(function(a){a.getDescription||(a=eb.data.FilterSelection.cast(a));var b=a.getDescription({model:c});b.trim().length&&e.push(b)}),e.length||e.push("No Filters");var j="",k=f();e.forEach(function(a){j+=k.format(a)}),d.prop("title",j),$('[data-toggle="tooltip"]').tooltip(),h.ready()}function d(a){a()}function e(){return{autoInit:!0}}function f(){return"<div>{0}</div>"}var g=this;eb.ui.prependClass(g,"eb-filter-label eb-plugin");var h=new eb.ui.Component(this,a,e()),i=h.config();return this.getData=function(){return h.data()},this.config=function(){return i},this.databind=function(a){a&&h.data(a),c()},this.initialize=function(){return b(),this},i.autoInit&&i.data&&b(),this},$.fn.ebFilterLabel=function(a){return this.each(function(){$(this)._ebFilterLabel(a)})}}(),function(){$.fn.ebSearchList=function(a){function b(){d(function(){c()})}function c(){var a=h.updateFieldSchema({id:"Id",name:"Name"}),b=(h.data(),e()),c=0;f.empty();var d=i.searchTemplate||b.search;d=$(d),f.append($(b.row).append($(b.col).append(d))),d.find("input").keydown(function(b){clearTimeout(c);var d=$(this);c=setTimeout(function(){var b=i.data.Query.where().page(1),c=d.val();c.length>0&&b.contains(a.name,c),i.data.refresh()},500)}),f.find(".clear-search").click(function(a){d.find("input").val(""),i.data.Query.where().page(1),i.data.refresh()}),d.find("input").prop("placeholder","Search "+a.name),f.append($(b.row).append($(b.col).append(b.hr))),i.checkbox.schema=i.schema,i.checkbox.events.itemClick.callback=i.events.itemClick.callback,i.checkbox.data=i.data;var g=$(b.div).ebCheckBox(i.checkbox);f.append($(b.row).append($(b.col).append(g))),f.append($(b.row).append(b.hr)),i.paging.data=i.data;var j=$(b.div).ebDatasetPaging(i.paging);f.append($(b.row).append($(b.col).append(j))),h.ready()}function d(a){a()}function e(){return{row:'<div class="row"></div>',col:'<div class="col-md-12"></div>',search:'<div class="input-group"><input placeholder="" class="form-control" /><span class="input-group-addon clear-search"><i class="fa fa-times"></i></span></div>',div:"<div></div>",hr:'<div class="eb-hr"></div>'}}var f=this;eb.ui.prependClass(f,"eb-search-list eb-plugin");var g={autoInit:!0,events:{itemClick:{callback:null}},checkbox:{events:{itemClick:{callback:null,dataevent:null}}},paging:{}},h=new eb.ui.Component(this,a,g,(!0)),i=h.config();return this.getData=function(){return h.data()},this.config=function(){return i},this.databind=function(a){a&&h.data(a),c()},this.initialize=function(){return b(),this},i.autoInit&&b(),this}}(),function(){$.fn.ebDatasetPaging=function(a){function b(){d(function(){h.bindData(c)})}function c(){var a=h.data(),b=e(),c=a.__meta.paging;if(f.empty(),!c)return void h.ready();a.Rows.length||(j=1,k=0),c.TotalRows&&(j=c.Rows==c.TotalRows?1:eb.Format(c.TotalRows/c.Rows+.5,"N").replace(",",""),k=c.TotalRows);var d=$(b.row);f.append(d),d.append(b.colLabel.format(c.Page,j,k));var g=$(b.colButtons);d.append(g);var l=$(b.divButtons);g.append(l),l.append($(b.first).click(function(){var a=i.data;a.Query.Paging.Page=1,k>0&&a.refresh()})),l.append($(b.prev).click(function(){var a=i.data;a.Query.Paging.Page>1&&k>0&&(a.Query.Paging.Page-=1,a.refresh())})),l.append($(b.next).click(function(){var a=i.data;a.Query.Paging.Page<j&&k>0&&(a.Query.Paging.Page+=1,a.refresh())})),l.append($(b.last).click(function(){var a=i.data;k>0&&(a.Query.Paging.Page=j,a.refresh())})),h.ready()}function d(a){a()}function e(){return{row:'<div class="row"></div>',colLabel:'<div class="col-md-6"><p>Page {0}/{1} : {2} Total Rows</p></div>',colButtons:'<div class="col-md-6"></div>',divButtons:'<div class="btn-group pull-right">',first:'<a title="First Page" style="margin-right:3px" href="javascript:void(0)" class="btn btn-default btn-xs"><i class="fa fa-chevron-left"></i><i class="fa fa-chevron-left"></i></a>',prev:'<a title="Previous Page" style="margin-right:3px" href="javascript:void(0)" class="btn btn-default btn-xs"><i class="fa fa-chevron-left"></i></a>',next:'<a title="Next Page" style="margin-right:3px" href="javascript:void(0)" class="btn btn-default btn-xs"><i class="fa fa-chevron-right"></i></a>',last:'<a title="Last Page" href="javascript:void(0)" class="btn btn-default btn-xs"><i class="fa fa-chevron-right"></i><i class="fa fa-chevron-right"></i></a>'}}var f=this;eb.ui.prependClass(f,"eb-dataset-paging eb-plugin");var g={autoInit:!0},h=new eb.ui.Component(this,a,g,(!0)),i=h.config(),j=null,k=null;return this.getData=function(){return h.data()},this.config=function(){return i},this.databind=function(a){a&&h.data(a),c()},this.initialize=function(){return b(),this},i.autoInit&&b(),this}}(),function(){$.fn.ebDropdownList=function(a){function b(a){var b=f.data(),e=f.colId(g),i=b.getColumn(g.label),j=b.getColumn(e),k={};if(j&&j.Selected||h.selected){var l=b.where().eq(e,j.Selected||h.selected).first();l&&(k.id=l[e],k.name=l[g.name],k.lbl=i?l[g.label]:l[g.name])}d.empty();var m=$('<button class="btn btn-{0} dropdown-toggle" type="button" "data-toggle="dropdown"></button>'.format(h.color||"default")),n=$('<div style="float:left">').text(k.lbl||(j?j.Title||j.Name:"Select..."));m.append(n),m.append('&nbsp;<span class="caret"></span>'),d.append(m);var o=$('<ul class="dropdown-menu" role="menu">'),p='<li role="presentation" _i="{0}" _id="{1}"><a role="menuitem" tabindex="-1" href="#">{2}</a></li>';b.Rows.forEach(function(a,b){var c=$(p.format(b,a[e],i?a[g.label]:a[g.name]));k.id&&a[e]==k.id&&c.addClass("active"),o.append(c)}),d.append(o),o.on("click","li",function(a){a.preventDefault(),d.toggleClass("open");var b=$(this);k.id=b.attr("_id"),k.name=b.text(),k.lbl=b.text(),n.text(k.lbl),b.closest(".dropdown-menu").find("li").removeClass("active"),b.closest("li").addClass("active");var g=f.data(),i=new eb.data.DataEvent(c).dataselect().cell(f.nameId(),k.id,k.name).column(g.getColumn(e)).row(g[b.attr("_i")]).table(g);k.id==h.all&&i.action().clear();var j={base:a,data:i.getData()};h.events&&h.events.itemClick.callback&&h.events.itemClick.callback(j),i.raise(),c.trigger("itemClick",j)}),d.find(".dropdown-toggle").dropdown(),$(document).click(function(){d.removeClass("open")}),f.ready()}var c=this;eb.ui.prependClass(c,"eb-dropdown-list eb-plugin");var d=$('<div class="btn-group">');c.empty(),c.append(d);var e={panel:!1},f=new eb.ui.Component(this,a,e),g=f.updateFieldSchema({id:"Id",name:"Name",label:"Label"}),h=f.config();return this.init=function(){f.panel(d),f.bindData(b)},this.config=function(){return f.config()},this.databind=function(){b()},c.init(),this}}(),function(){$.fn.ebTable=function(a){function b(){e(function(){h.bindData(c)})}function c(){function a(a,b,c){if(a.Paging&&a.Paging.Page>0&&a.page(1),"StoredProcedure"==a.__typeName){var d=a.getParam(b.Name||b);d&&(d.Value=c.length>0?c:null)}else{var e=[];a.Filter.forEach(function(a,c){a.Expression.Field&&a.Expression.Field==(b.Name||b)&&"ContainsExpression"==a.Expression.__typeName&&e.push(c)}),e.forEach(function(b){a.Filter.splice(b,1)}),c.length>0&&a.contains(b.Name||b,c)}i.data.refresh()}var b=h.data(),c=h.select(),e={},g=d();k=$(g.table),f.find("table").remove(),f.prepend(k);var m=$("<thead>");k.append(m);var n=$("<tr>");if(m.append(n),c.forEach(function(a,c){var d=b.getColumn(a),f=$("<th>",{"class":"eb-col-"+(c- -1)});n.append(f),d&&(e[d.Name]=d.Format,f.append(d.Title||d.Name))}),m=$('<tbody style="height:{0}">'.format(i.fixedcols&&i.fixedcols.height?i.fixedcols.height:"auto")),k.append(m),i.filter){var o=Array.isArray(i.filter)?i.filter:c;l?(m.append(l),l.find("input").each(function(b){var c=$(this),d=c.data("col");c.val().length>0&&c.focus(),c.keydown(function(b){var e=20;b.keyCode==e||b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||setTimeout(function(){var b=i.data.Query,e=c.val();a(b,d,e)},500)})})):(l=$("<tr>"),m.append(l),c.forEach(function(c){var d=b.getColumn(c);if(td=$("<td>"),l.append(td),o.indexOf(c)>-1){var e=$('<input data-col="{0}" type="text" placeholder=" Filter {1}">'.format(d.Name,d.Title||d.Name));td.append(e),e.keydown(function(b){var c=$(this),e=20;b.keyCode==e||b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||setTimeout(function(){var b=i.data.Query,e=c.val();a(b,d,e)},500)})}}))}0==b.Rows.length&&m.append("<tr><td>"+(i.noRowsMessage||"No rows returned.")+"</td></tr>"),b.Rows.forEach(function(a,d){n=$("<tr>"),n.attr("_r",d),n.css("cursor",i.cursor||"auto"),m.append(n),c.forEach(function(c,d){function g(a,b){var c=$(a.currentTarget),d=c.closest("td").attr("_c"),e=c.closest("tr").attr("_r"),g=h.data(),i=g.Rows[e],j=g.Columns[d];return new eb.data.DataEvent(b).source(f).cell(j.Id||j.Name,i[j.Name].Id||i[j.Name]).column(j).row(i).table(g)}var j=$("<td>",{"class":"eb-col-"+(d- -1)});n.append(j);var k=$("<div>",{"class":"eb-cell-value"});j.append(k);var l=a[c],m=b.getColumn(c);if(j.click(function(a){var b=g(a,"dataselect"),c=b.getData();f.trigger("cellClick",{base:a,data:c}),i.events&&i.events.dataselect&&("function"==typeof i.events.dataselect?i.events.dataselect(c):b.raise(),f.trigger("dataselect",c))}),"undefined"!=typeof l&&"function"!=typeof l){var o=null==l||"undefined"==typeof l.Value?null==l?"":l:l.Value||"",p=e[c]?eb.Format(o,e[c]):o;if("object"==typeof l?k.append(p):m.DataType&&"html"==m.DataType?k.html(p):k.text(p),l&&l.Format&&l.Format.Class&&k.addClass(l.Format.Class),j.attr("_c",d),l&&"undefined"!=typeof l.HasChildren){var q=$('<div style="float:left">');j.prepend(q),k.css("margin-left",15*l.LevelDepth+"px"),l.DrilledDown?q.addClass(eb.ui.config.styles.drillCollapse):l.HasChildren?q.addClass(eb.ui.config.styles.drillExpand):q.addClass(eb.ui.config.styles.drillNone),q.click(function(a){if(i.events&&eb.toBoolean(i.events.datadrilldown,!0)){var b=$(a.currentTarget),c=g(a,"datadrilldown");b.hasClass(eb.ui.config.styles.drillExpand)?c.action().add().raise():c.action().remove().raise(),f.trigger("datadrilldown",c.getData())}})}}})}),!j&&i.data.__typeName&&"eb.data.DataSet"==i.data.__typeName&&i.data.Query.Paging&&i.data.Query.Paging.Page>0&&(j=$(g.paging).ebDatasetPaging({data:i.data}),f.append(j)),h.ready()}function d(){return{table:'<table class="table table-striped table-hover" data-toggle="table">',paging:"<div></div>"}}function e(a){function b(){var b=h.panel().getPanel();if(b){b=b.toolbar().show();var c=$('<a href="#" title="Export to CSV"><span class="glyphicon glyphicon-export"></span></a>');b.append(c),c.click(function(){root.tableExport({type:"csv",tableName:h.nameRef().Name,escape:"false"})})}a()}$.fn.tableExport?b():"undefined"!=typeof require?require(["eb-table-export","base64"],function(){b()}):a()}var f=this;eb.ui.prependClass(f,"eb-table eb-plugin");var g={autoInit:!0,filter:!1,events:{datadrilldown:!0}},h=new eb.ui.Component(this,a,g,(!0)),i=h.config(),j=null,k=null,l=null;return this.getData=function(){return h.data()},this.config=function(){return i},this.databind=function(){c()},this.initialize=function(){return b(),this},i.autoInit&&b(),this}}(),function(){$.fn.ebButtonList=function(a){function b(){e.bindData(c)}function c(){function a(a){a=$(a);var c=a.find("input"),e=b.Rows[c.attr("_in")],f=new eb.data.DataEvent(d).dataselect().cell(l,c.attr("_id")).label(g.label||g.name,e[g.label||g.name]).column(b.getColumn(l)).row(e).table(b);a.hasClass("active")?(setTimeout(function(){a.removeAttr("checked").prop("checked",!1).removeClass("active")},300),f.action().clear()):f.action().replace(),f.raise(),d.trigger("itemClick",{base:null,data:f.getData()})}var b=e.data(),c=e.colId(g),i=b.getColumn(c),j={};if(i&&i.Selected||f.selected){var k=b.where().eq(c,i.Selected||f.selected).first();j.id=k[c],j.name=k[g.name],j.lbl=m?k[g.label]:k[g.name]}if(0==b.Rows.length)return void e.ready();f.map||b.Rows[0][g.name]||b.Rows[0][g.id]||(g.name=e.nameRef().Name);var l=b.Rows[0][g.id]?g.id:g.name,m='<label class="btn btn-{0} eb-member">'.format(f.color||"default"),n='<input name="eb_option" type="{0}" _in={1} _id="{2}"/>{3}';h.empty(),b.Rows.forEach(function(b,d){var e=n.format(eb.toBoolean(f.multiselect,!0)?"checkbox":"radio",d,b[l],b[g.name]),i=$(m);j.id&&b[c]==j.id&&i.addClass("active"),h.append(i.click(function(){a(this)}).append(e))}),h.button(),e.ready()}var d=this;eb.ui.prependClass(d,"eb-button-list eb-plugin");var e=new eb.ui.Component(this,a,{autoInit:!0}),f=e.config(),g=e.updateFieldSchema({id:"Id",name:"Name"}),h=$('<div class="btn-group-{0}" data-toggle="buttons">'.format(f.alignment||"vertical"));return d.empty(),d.append(h),e.panel(h),this.config=function(){return f},this.databind=function(){c()},this.initialize=function(){return b(),this},f.autoInit&&b(),this}}(),function(){$.fn.ebCheckbox=function(a){function b(){e(function(){g.bindData(d)})}function c(){return{autoInit:!0,events:{itemClick:{callback:null,dataevent:"dataselect"}}}}function d(){var a=g.data(),b=g.colId(h);f.empty(),a.Rows.forEach(function(a){var c='<label class="{0}">{1}<input type="checkbox" value="{2}" {3}><i></i>{4}</label>'.format(i["class"]||"checkbox","undefined"==typeof a[h.iconClass]?"":'<span class="'+a[h.iconClass]+'"></span> ',a[b],eb.toBoolean(a[h.selected],!1)?"checked":"","undefined"==typeof a[h.label]?a[h.name]:a[h.label]);f.append(c)}),f.find("input").change(function(c){var d=a.where().eq(b,$(this).val()).first(),e=(new eb.data.DataEvent).source(f).cell(b,$(this).val()).column(a.getColumn(b)).row(d).table(a),j="undefined"!=typeof d[h.selected];this.checked?(j&&(d[h.selected]=!0),e.action().add()):(j&&(d[h.selected]=!1),e.action().remove());var k={base:c,data:e.getData()};if(i.events.itemClick.callback&&i.events.itemClick.callback(k),i.events.itemClick.dataevent&&e.event(i.events.itemClick.dataevent).element(g.ListenerId(i.events.itemClick.dataevent)).raise(),f.trigger("itemClick",k),a.__meta&&a.__meta.dataset)try{if(this.checked)a.__meta.dataset.Write&&a.__meta.dataset.write(d);else if(0!=a.__meta.dataset.Delete&&a.__meta.dataset.Write){var l=eb.data["delete"]().from(a.__meta.dataset.Query.Entities[0].Name).where().eq(b,$(this).val());a.__meta.dataset["delete"](l)}}catch(m){eb.ui.ErrorDialog(m)}}),g.ready()}function e(a){a()}var f=this;eb.ui.prependClass(f,"eb-checkbox eb-plugin");var g=new eb.ui.Component(this,a,c(),(!0)),h=g.updateFieldSchema({id:"Id",name:"Name",label:"Label",selected:"Selected",iconClass:"iconClass"}),i=g.config();return this.getData=function(){return g.data()},this.config=function(){return i},this.databind=function(){d()},this.initialize=function(){return b(),this},i.autoInit&&b(),this}}(),"undefined"==typeof eb)throw"eb namspace required";if("undefined"==typeof eb.ui)throw"eb.ui namspace required";if(eb.ui.MessageDialog=function(a){function b(){var b=a.confirm?"<button type='button' class='btn btn-default' data-dismiss='modal'>Cancel</button>":"";return"<div class='modal-dialog'><div class='modal-content panel-{0}'><div class='modal-header panel-heading'><button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button><h4 class='modal-title panel-title'>{1}</h4></div><div class='modal-body'><p>{2}</p></div><div class='modal-footer'><button id='_x-confirm' type='button' class='btn btn-default' data-dismiss='modal'>Ok</button>"+b}var c=$("#eb-dialog");c.length?c.empty():(c=$("<div id='eb-dialog' class='modal'></div>"),$(document.body).append(c)),"string"==typeof a&&(a={message:a}),s=b(),s=s.format(a.color||"default",a.title||"Message",a.message),c.append(s),c.modal(),c.css("margin-top",($(window).height()-c.height())/2),c.css("margin-left",($(window).width()-c.width())/2),a.confirm&&c.find("#_x-confirm").click(function(){a.confirm(!0)})},"undefined"==typeof eb)throw"eb namspace required";if("undefined"==typeof eb.ui)throw"eb.ui namspace required";if(eb.ui.ErrorDialog=function(a,b,c){function d(a){var b=null;return a.Message&&(b=a.Message+"<br><br>",a.InnerException&&(b+=d(a.InnerException))),b}function e(){return"<div class='modal-dialog'><div class='modal-content panel-danger'><div class='modal-header panel-heading'><button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button><h4 class='modal-title panel-title'>{0}</h4></div><div class='modal-body'><p>{1}</p><p><br><a href='#' onclick=\"$('#eb-error-st').toggle();\">Details</a></p><p id='eb-error-st' class='text-warning' style='display:none'><small>Error Number: {2}<br>Instance: {3}<br>User: {4}<br><br>{5}{6}</small></p></div><div class='modal-footer'><button type='button' class='btn btn-default' data-dismiss='modal'>Close</button></div></div></div>"}a.responseText&&"<"!=a.responseText.substring(0,1)&&(a=$.parseJSON(a.responseText)),"string"==typeof a&&(b=a);var f={};f.msg=a.ExceptionMessage||a.Message||a.message||a.responseText||"",f.msg=b?b+"\n\n"+f.msg:f.msg,f.title=a.Title||a.statusText||"Error",f.number=a.number||a.status||a.HResult||"",f.stack=a.StackTrace||a.stack||a.StackTraceString||"",f.instance=a.Instance||"",f.user=a.User||"",a.InnerException&&(f.inner=d(a.InnerException));var g=$("#eb-dialog");g.length?g.empty():(g=$("<div id='eb-dialog' class='modal'></div>"),$(document.body).append(g)),s=e(),s=s.format(f.title,f.msg,f.number,f.instance,f.user,f.inner,f.stack),g.append(s),g.modal(),g.css("margin-top",($(window).height()-g.height())/2),g.css("margin-left",($(window).width()-g.width())/2)},"undefined"==typeof eb)throw"eb namspace required";if("undefined"==typeof eb.ui)throw"eb.ui namspace required";eb.ui.config.styles.loadingSize1="fa fa-spinner fa-spin fa-2x",eb.ui.config.styles.loadingSize3="fa fa-spinner fa-spin fa-3x",angular.module("eb.bootstrap",[]),angular.module("eb.bootstrap").directive("ebCsvExport",function(){return{restrict:"AEC",replace:!1,scope:{ebData:"=",plugin:"="},link:function(a,b,c){var d={};a.ebData&&(d.data=a.ebData),c.ebCsvExport&&(d=$.extend(d,a.$parent.$eval(c.ebCsvExport)));var e=$(b).ebCsvExport(d);"undefined"!=typeof a.plugin&&(a.plugin=e)}}}),angular.module("eb.bootstrap").directive("ebFilterLabel",function(){return{restrict:"AEC",replace:!1,scope:{ebData:"=",plugin:"="},link:function(a,b,c){var d={};a.ebData&&(d.data=a.ebData),c.ebFilterLabel&&(d=$.extend(d,a.$parent.$eval(c.ebFilterLabel)));var e=$(b).ebFilterLabel(d);"undefined"!=typeof a.plugin&&(a.plugin=e)}}}),angular.module("eb.bootstrap").directive("ebSearchList",function(){return{restrict:"AEC",replace:!1,scope:{ebData:"=",ebModel:"=",plugin:"="},link:function(a,b,c){var d={};a.ebModel&&(d={events:{itemClick:{callback:function(b){if(Array.isArray(a.ebModel)){var d=a.ebModel.indexOf(b.data.cell.value);d>-1?a.ebModel.splice(d,1):a.ebModel.push(b.data.cell.value)}else a.$parent.$eval("{0}='{1}'".format(c.ebModel,b.data.cell.value))}}}}),a.ebData&&(d.data=a.ebData),c.ebSearchList&&(d=$.extend(d,a.$parent.$eval(c.ebSearchList)));var e=$(b).ebSearchList(d);"undefined"!=typeof a.plugin&&(a.plugin=e)}}}),angular.module("eb.bootstrap").directive("ebDatasetPaging",function(){return{restrict:"AEC",replace:!1,scope:{ebData:"=",plugin:"="},link:function(a,b,c){var d={};a.ebData&&(d.data=a.ebData),c.ebDatasetPaging&&(d=$.extend(d,a.$parent.$eval(c.ebDatasetPaging)));var e=$(b).ebDatasetPaging(d);"undefined"!=typeof a.plugin&&(a.plugin=e)}}}),angular.module("eb.bootstrap").directive("ebButtonList",function(){return{restrict:"AEC",replace:!1,scope:{onItemClick:"=",onReady:"=",ebData:"=",plugin:"="},link:function(a,b,c){$(document).on("ready",".eb-button-list",function(c,d){a.onReady&&a.onReady(b)}).on("itemClick",".eb-button-list",function(c,d){a.onItemClick&&a.onItemClick(c,d,b)});var d={data:a.ebData};c.ebButtonList&&(d=$.extend(d,a.$parent.$eval(c.ebButtonList)));var e=$(b).ebButtonList(d);"undefined"!=typeof a.plugin&&(a.plugin=e)}}}),angular.module("eb.bootstrap").directive("ebCheckbox",function(){return{restrict:"AEC",replace:!1,scope:{onReady:"=",ebData:"=",ebModel:"=",plugin:"="},link:function(a,b,c,d){$(document).on("ready",".eb-checkbox",function(c,d){a.onReady&&a.onReady(b)});var e={};if(a.ebModel&&(e={events:{itemClick:{callback:function(b){if(Array.isArray(a.ebModel))if("remove"==b.data.action){var d=a.ebModel.indexOf(b.data.cell.value);d>-1&&a.ebModel.splice(d,1)}else a.ebModel.push(b.data.cell.value);else a.$parent.$eval("{0}='{1}'".format(c.ebModel,b.data.cell.value))}}}}),a.ebModel&&a.ebData){var f=a.ebData.getColumn("Selected");if(!f){var g=a.ebData.getColumn("d")?"Id":"Name";Array.isArray(a.ebModel)?(a.ebData.addColumn("Selected"),a.ebData.Rows.forEach(function(b){b.Selected=a.ebModel.indexOf(b[g])>-1})):a.ebData.addColumn("Selected").calc(function(b){return a.ebModel==b[g]})}}a.ebData&&(e.data=a.ebData),c.ebCheckbox&&(e=$.extend(e,a.$parent.$eval(c.ebCheckbox)));var h=$(b).ebCheckbox(e);"undefined"!=typeof a.plugin&&(a.plugin=h)}}}),angular.module("eb.bootstrap").directive("ebTabs",function(){return{restrict:"AEC",replace:!1,scope:{onItemClick:"=",currentTab:"=",control:"="},link:function(a,b,c){function d(d){var e=angular.element(d);if(e=angular.element(e[0].closest("li")),!e.hasClass("disabled")){b.find("li").removeClass("active"),e.addClass("active");var f=c.ebTabs;if(!f)throw"Missing config property";f=a.$parent.$eval(f);var g=angular.element(document.querySelector(f.tabs));g.find(".tab-pane").hide();var d=g.find(e.context.dataset.tab);d.css("display","inline").css("visibility","visible"),"undefined"!=typeof a.currentTab&&(a.currentTab=e.context.dataset.tab),a.onItemClick&&a.onItemClick(e.context.dataset.tab),f.onItemClick&&f.onItemClick(e.context.dataset.tab)}}"undefined"!=typeof a.control&&(a.control=a.control||{},a.control.setTab=function(a){d(a)}),b.bind("click",function(a){d(a.target)})}}});